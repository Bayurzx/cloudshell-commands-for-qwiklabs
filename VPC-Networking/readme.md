{\rtf1\ansi\ansicpg1252\cocoartf2513
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 ArialMT;\f1\fswiss\fcharset0 Arial-BoldMT;\f2\fmodern\fcharset0 CourierNewPSMT;
\f3\fmodern\fcharset0 CourierNewPS-BoldMT;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;\red255\green255\blue255;\red202\green204\blue212;
\red215\green218\blue223;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;\cssrgb\c100000\c100000\c100000;\cssrgb\c83137\c83922\c86275;
\cssrgb\c87451\c88235\c89804;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid101\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid201\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid301\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid401\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid5}
{\list\listtemplateid6\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid501\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid6}
{\list\listtemplateid7\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat4\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid601\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid7}
{\list\listtemplateid8\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat5\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid701\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid8}
{\list\listtemplateid9\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat6\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid801\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid9}
{\list\listtemplateid10\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat7\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid901\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid10}
{\list\listtemplateid11\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1001\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid11}
{\list\listtemplateid12\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat3\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1101\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid12}
{\list\listtemplateid13\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1201\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid13}
{\list\listtemplateid14\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1301\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid14}
{\list\listtemplateid15\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1401\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid15}
{\list\listtemplateid16\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat6\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1501\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid16}
{\list\listtemplateid17\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat4\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1601\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid17}
{\list\listtemplateid18\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat6\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1701\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid18}
{\list\listtemplateid19\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat6\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1801\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid19}
{\list\listtemplateid20\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat4\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1901\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid20}
{\list\listtemplateid21\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat6\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid2001\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid21}
{\list\listtemplateid22\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat4\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid2101\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid22}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}{\listoverride\listid8\listoverridecount0\ls8}{\listoverride\listid9\listoverridecount0\ls9}{\listoverride\listid10\listoverridecount0\ls10}{\listoverride\listid11\listoverridecount0\ls11}{\listoverride\listid12\listoverridecount0\ls12}{\listoverride\listid13\listoverridecount0\ls13}{\listoverride\listid14\listoverridecount0\ls14}{\listoverride\listid15\listoverridecount0\ls15}{\listoverride\listid16\listoverridecount0\ls16}{\listoverride\listid17\listoverridecount0\ls17}{\listoverride\listid18\listoverridecount0\ls18}{\listoverride\listid19\listoverridecount0\ls19}{\listoverride\listid20\listoverridecount0\ls20}{\listoverride\listid21\listoverridecount0\ls21}{\listoverride\listid22\listoverridecount0\ls22}}
\paperw11900\paperh16840\margl1440\margr1440\vieww19000\viewh18060\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs24 \cf2 \cb3 \expnd0\expndtw0\kerning0
# VPC Networking \
\
##Table of Contents\
* [Introduction](#Introduction)\
* [Prerequisites](#prerequisites)\
  * [Install Cloud SDK](#install-cloud-sdk)\
* [Configure Authentication](#configure-authentication)\
  * [Qwiklabs User](#qwiklabs-user)\
  * [GCP Project ID](#gcp-project-id)\
\
\
## Task 1: Explore the default network \
\
* [Create a new auto mode VPC network with subnets, routes, firewall rules](#Create a new auto mode VPC network with subnets, routes, firewall rules)\
  *[View the firewall rules](#View the firewall rules)\
  *[Delete the firewall rules](#Delete-the-firewall-rules)\
  *[Delete the default network](#Delete-the-default-network)\
  *[Try to create a VM instance](#try-to-create-a-VM-instance)\
\
##Task 2: Create an auto mode network \
\
* [Create an auto mode VPC network with firewall rules] (#create-an-auto-mode-vpc-network-with-firewall-rules)\
  *[Create a VM instance in the us-central1 region](#create-a-vm-instance-in-the-us-central1-region)\
  *[Create a VM instance in europe-west1](#create-a-vm-instance-in-europe-west1)\
* [Verify connectivity for the VM instances] (#verify-connectivity-for-the-vm-instances)\
\
*Convert the auto mode network to a custom mode network\
\
## Task 3: Create 2 more VM instances \
\
* [Create the managementnet network] (#create-the-managementnet-network) \
* [Create the privatenet network] (#create-the-privatenet-network)\
* [Create the firewall rules for managementnet](#create-the-firewall-rules-for-managementnet)\
* [Create the firewall rules for privatenet](#create-the-firewall-rules-for-privatenet)\
\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 Create two VM instances:\
\pard\pardeftab720\partightenfactor0
\cf2 *[Create the managementnet-us-vm instance](#Create the managementnet-us-vm instance)\
*[Create the privatenet-us-vm instance](#)\
\
\
\
## Task 4: Explore connectivity across networks\
\
  * [Enter SSH](#enter-ssh)\
  *[Ping the external IP addresses](#ping-the-external-ip-addresses)\
  *[Ping the internal IP addresses](#ping-the-internal-ip-addresses)\
\
\
## Introduction\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 VPC networking documentation and summary can be found here: https://cloud.google.com/vpc. The Qwiklabs covered in this tutorial is called \'91VPC Networking\'92. The instructions have been modified so that they can be completed using the cloud shell terminal only or using the google cloud SDK. \
## Prerequisites\
Use the credentials provided by Qwiklabs as well as the google cloud console or the google cloud SDK. \
## Install Cloud SDK\
For instructions on how to install the google cloud SDK visit google documentation: https://cloud.google.com/sdk/install. \
##Configure authentication\
##Qwiklabs User\
Take note of the username provided by Qwiklabs and the user associated with the temporary Qwiklabs email assigned to this project.\
From the cloud shell run the following to confirm the credentialed account \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl400\qr\partightenfactor0
\cf2 49\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 gcloud list\
\pard\pardeftab720\sl400\qr\partightenfactor0
\cf2 50\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2  From the cloud SDK run the following to login with the provided credentials:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl400\qr\partightenfactor0
\cf2 49\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 gcloud auth login\
\pard\pardeftab720\sl400\qr\partightenfactor0
\cf2 50\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```\
\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 ## GCP Project ID\
Take note for confirm the GCP project ID assigned to you. From the cloud shell run the following to confirm the credentialed account \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl400\qr\partightenfactor0
\cf2 49\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 gcloud projects list\
\pard\pardeftab720\sl400\qr\partightenfactor0
\cf2 50\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b\fs28 \cf2 **Task 1: Explore the default network**\
\pard\pardeftab720\partightenfactor0

\f0\b0\fs24 \cf2 Delete the default network and determined that you cannot create VM instances without a VPC network\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
gcloud compute instances list\

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \cf2 \
You will be presented with the available network. Copy the name of the network (default) and run the following command to get details of the routes:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
gcloud compute instances describe [NETWORK-NAME]\

\f0 \cf2 ```\
\pard\pardeftab720\partightenfactor0

\f1\b\fs28 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0\b0\fs24 \cf2 ##Create a new auto mode VPC network with subnets, routes, firewall rules\
\pard\pardeftab720\partightenfactor0

\f1\b\fs28 \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0
\cf2 ##View the firewall rules\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0\b0\fs24 \cf2 Each VPC network implements a distributed virtual firewall that you can configure. Firewall rules allow you to control which packets are allowed to travel to which destinations. Every VPC network has two implied firewall rules that block all incoming connections and allow all outgoing connections.\
\pard\pardeftab720\sa320\partightenfactor0
\cf2 The following command describes an individual firewall rule. Replace\'a0\cf2 \uc0\u8234 [FIREWALL-NAME]\cf2 \uc0\u8236 \'a0with the name of the firewall rule. Because firewall rule names are unique to the project, you don't have to specify a network when describing an existing one.\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 Notice that there are 4\'a0
\f1\b Ingress
\f0\b0 \'a0firewall rules for the\'a0
\f1\b default
\f0\b0 \'a0network:\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls1\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
default-allow-icmp\
\ls1\ilvl0\kerning1\expnd0\expndtw0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
default-allow-rdp\
\ls1\ilvl0\kerning1\expnd0\expndtw0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
default-allow-ssh\
\ls1\ilvl0\kerning1\expnd0\expndtw0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
default-allow-internal\
\pard\pardeftab720\sa320\partightenfactor0
\cf2 \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
gcloud compute firewall-rules describe [FIREWALL-NAME]\

\f0 \cf2 ```
\f2 \cf2 \

\f0 \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b\fs28 \cf2 ##Delete the Firewall rules\
\pard\pardeftab720\sa320\partightenfactor0

\f0\b0\fs24 \cf2 The following command deletes a firewall rule. Replace\'a0\cf2 \uc0\u8234 [FIREWALL-NAME]\cf2 \uc0\u8236 \'a0with the name of the rule to be deleted.\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
gcloud compute firewall-rules delete [FIREWALL-NAME]\

\f0 \cf2 ```
\f2 \cf2 \

\f0 \cf2 \
\pard\pardeftab720\sa320\partightenfactor0
\cf2 Repeat this for each of the firewall-rules listed above.\
\
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b\fs28 \cf2 ##Delete the default network\
\pard\pardeftab720\partightenfactor0

\f0\b0\fs24 \cf2 To delete the default network, run:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl280\partightenfactor0

\f2 \cf2 \uc0\u8234 gcloud compute networks delete default\uc0\u8236 \
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```\
\
\pard\pardeftab720\partightenfactor0
\cf2 Output:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 The following networks will be deleted:\
 - [default-network]\
\
Do you want to continue (Y/n)?  y\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```
\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \AppleTypeServices \cf2 \
Press enter to continue:\
\
\
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b\fs28 \cf2 ##Try to create a VM instance\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0\b0\fs24 \cf2 Verify that you cannot create a VM instance without a VPC network, run:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
\pard\pardeftab720\sl280\partightenfactor0
\cf2 \uc0\u8234 gcloud compute instances create [INSTANCE_NAME]\uc0\u8236 \
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\sl280\partightenfactor0

\f0 \cf2 \
\pard\pardeftab720\sl540\partightenfactor0
\cf2 As expected, you cannot create a VM instance without a VPC network!\
\pard\pardeftab720\sl560\sa640\partightenfactor0
\cf2 \
##Task 2: Create an auto mode network\
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b\fs28 \cf2 ##Create an auto mode VPC network with firewall rules\
\pard\pardeftab720\partightenfactor0

\f0\b0\fs24 \cf2 1. \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \cf2 gcloud compute networks create mynetwork --project=[PROJECT-ID] subnet-mode=auto --bgp-routing-mode=regional\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \cf2 \
2. \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \cf2 gcloud compute firewall-rules create mynetwork-allow-icmp --project=[PROJECT-ID]  --network=projects/[PROJECT-ID] /global/networks/mynetwork --description=Allows\\ ICMP\\ connections\\ from\\ any\\ source\\ to\\ any\\ instance\\ on\\ the\\ network. --direction=INGRESS --priority=65534 --source-ranges=0.0.0.0/0 --action=ALLOW --rules=icmp\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \cf2 \
3. \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \cf2 gcloud compute firewall-rules create mynetwork-allow-internal --project=[PROJECT-ID]  --network=projects/[PROJECT-ID] /global/networks/mynetwork --description=Allows\\ connections\\ from\\ any\\ source\\ in\\ the\\ network\\ IP\\ range\\ to\\ any\\ instance\\ on\\ the\\ network\\ using\\ all\\ protocols. --direction=INGRESS --priority=65534 --source-ranges=10.128.0.0/9 --action=ALLOW --rules=all\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \cf2 \
4. \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \cf2 gcloud compute firewall-rules create mynetwork-allow-rdp --project=[PROJECT-ID]  --network=projects/[PROJECT-ID] /global/networks/mynetwork --description=Allows\\ RDP\\ connections\\ from\\ any\\ source\\ to\\ any\\ instance\\ on\\ the\\ network\\ using\\ port\\ 3389. --direction=INGRESS --priority=65534 --source-ranges=0.0.0.0/0 --action=ALLOW --rules=tcp:3389\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \cf2 \
5. \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \cf2 gcloud compute firewall-rules create mynetwork-allow-ssh --project=[PROJECT-ID]  --network=projects/[PROJECT-ID] /global/networks/mynetwork --description=Allows\\ TCP\\ connections\\ from\\ any\\ source\\ to\\ any\\ instance\\ on\\ the\\ network\\ using\\ port\\ 22. --direction=INGRESS --priority=65534 --source-ranges=0.0.0.0/0 --action=ALLOW --rules=tcp:22\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\sl400\partightenfactor0

\f0\fs28 \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b \cf2 ##Create a VM instance in us-central1 region\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0\b0\fs24 \cf2 Create a VM instance in the us-central1 region. Selecting a region and zone determines the subnet and assigns the internal IP address from the subnet's IP address range.\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clcbpat4 \clwWidth2480\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clcbpat4 \clwWidth6320\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls2\ilvl0
\f1\b \cf2 \kerning1\expnd0\expndtw0 {\listtext	4.	}\expnd0\expndtw0\kerning0
Property\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls2\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	5.	}\expnd0\expndtw0\kerning0
Value (type value or select option as specified)\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2480\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth6320\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls2\ilvl0
\f0\b0 \cf2 \kerning1\expnd0\expndtw0 {\listtext	6.	}\expnd0\expndtw0\kerning0
Name\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl300\partightenfactor0
\ls2\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	7.	}\expnd0\expndtw0\kerning0
mynet-us-vm\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2480\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth6320\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls2\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	8.	}\expnd0\expndtw0\kerning0
Region\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls2\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	9.	}\expnd0\expndtw0\kerning0
us-central1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2480\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth6320\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls2\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	10.	}\expnd0\expndtw0\kerning0
Zone\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls2\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	11.	}\expnd0\expndtw0\kerning0
us-central1-c\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2480\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth6320\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls2\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	12.	}\expnd0\expndtw0\kerning0
Machine type\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls2\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	13.	}\expnd0\expndtw0\kerning0
n1-standard-1 (1 vCPU, 3.75 GB memory)\cell \lastrow\row
\pard\pardeftab720\partightenfactor0
\cf2 \
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ``console\
\pard\pardeftab720\partightenfactor0
\cf2 gcloud beta compute --project=[PROJECT-ID] instances create mynet-us-vm --zone=us-central1-c --machine-type=n1-standard-1 --subnet=default --network-tier=PREMIUM --maintenance-policy=MIGRATE --service-account=441967460138-compute@developer.gserviceaccount.com --scopes=https://www.googleapis.com/auth/devstorage.read_only,https://www.googleapis.com/auth/logging.write,https://www.googleapis.com/auth/monitoring.write,https://www.googleapis.com/auth/servicecontrol,https://www.googleapis.com/auth/service.management.readonly,https://www.googleapis.com/auth/trace.append --image=debian-9-stretch-v20200902 --image-project=debian-cloud --boot-disk-size=10GB --boot-disk-type=pd-standard --boot-disk-device-name=mynet-us-vm --reservation-affinity=any\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```\
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 Output:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 NAME         ZONE           MACHINE_TYPE   PREEMPTIBLE  INTERNAL_IP  EXTERNAL_IP    STATUS\
mynet-us-vm  us-central1-c  n1-standard-1               10.128.0.2   34.123.171.80  RUNNING\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```\AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\AppleTypeServices \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\fs28 \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b \cf2 Create a VM instance in europe-west1
\fs24 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls3\ilvl0
\f0\b0 \cf2 Specify the following, and leave the remaining settings as their defaults:\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clcbpat4 \clwWidth2560\clftsWidth3 \clheight815 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clcbpat4 \clwWidth6320\clftsWidth3 \clheight815 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls3\ilvl0
\f1\b \cf2 \kerning1\expnd0\expndtw0 {\listtext	3.	}\expnd0\expndtw0\kerning0
Property\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls3\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	4.	}\expnd0\expndtw0\kerning0
Value (type value or select option as specified)\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth6320\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls3\ilvl0
\f0\b0 \cf2 \kerning1\expnd0\expndtw0 {\listtext	5.	}\expnd0\expndtw0\kerning0
Name\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl300\partightenfactor0
\ls3\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	6.	}\expnd0\expndtw0\kerning0
mynet-eu-vm\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth6320\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls3\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	7.	}\expnd0\expndtw0\kerning0
Region\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls3\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	8.	}\expnd0\expndtw0\kerning0
europe-west1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth6320\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls3\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	9.	}\expnd0\expndtw0\kerning0
Zone\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls3\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	10.	}\expnd0\expndtw0\kerning0
europe-west1-c\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clcbpat5 \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clcbpat5 \clwWidth6320\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls3\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	11.	}\expnd0\expndtw0\kerning0
Machine type\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls3\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	12.	}\expnd0\expndtw0\kerning0
n1-standard-1 (1 vCPU, 3.75 GB memory)\cell \lastrow\row
\pard\pardeftab720\partightenfactor0
\cf2 \
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0
\cf2 gcloud beta compute --project=[PROJECT-ID]  instances create mynet-eu-vm --zone=europe-west1-c --machine-type=n1-standard-1 --subnet=mynetwork --network-tier=PREMIUM --maintenance-policy=MIGRATE --service-account=890053130700-compute@developer.gserviceaccount.com --scopes=https://www.googleapis.com/auth/devstorage.read_only,https://www.googleapis.com/auth/logging.write,https://www.googleapis.com/auth/monitoring.write,https://www.googleapis.com/auth/servicecontrol,https://www.googleapis.com/auth/service.management.readonly,https://www.googleapis.com/auth/trace.append --image=debian-9-stretch-v20200902 --image-project=debian-cloud --boot-disk-size=10GB --boot-disk-type=pd-standard --boot-disk-device-name=mynet-eu-vm --reservation-affinity=any\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```\
\pard\pardeftab720\partightenfactor0
\cf2 \
\
Verify that the\'a0
\f1\b \cf2 Internal IP
\f0\b0 \cf2 \'a0for the new instance was assigned from the IP address range for the subnet in\'a0
\f1\b \cf2 europe-west1
\f0\b0 \cf2 \'a0(10.132.0.0/20). \
\
The\'a0
\f1\b \cf2 Internal IP
\f0\b0 \cf2 \'a0should be 10.132.0.2 because 10.132.0.1 is reserved for the gateway, and you have not configured any other instances in that subnet.\
\
\
Output:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 NAME         ZONE            MACHINE_TYPE   PREEMPTIBLE  INTERNAL_IP  EXTERNAL_IP   STATUS\
mynet-eu-vm  europe-west1-c  n1-standard-1               10.132.0.2   34.76.82.245  RUNNING\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```\AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\fs28 \AppleTypeServices \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b \cf2 Verify connectivity for the VM instances\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0\b0\fs24 \cf2 The firewall rules that you created with\'a0
\f1\b mynetwork
\f0\b0 \'a0allow ingress SSH and ICMP traffic from within\'a0
\f1\b mynetwork
\f0\b0 \'a0(internal IP) and outside that network (external IP).\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa360\partightenfactor0
\ls4\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	1.	}\expnd0\expndtw0\kerning0
Run the following code:\AppleTypeServices\AppleTypeServicesF65539 \
\pard\pardeftab720\sl400\partightenfactor0
\AppleTypeServices \cf2 ```console\AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 gcloud compute ssh [USER]@qwiklabs.\
net@mynet-eu-vm\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```
\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\
\pard\pardeftab720\partightenfactor0
\AppleTypeServices \cf2 2. Type y and press to continue.\
\
Leave the passphrase blank and when asked again press enter.\
Your identification is saved, take note of this, it is the username needed in the next step. This should start with \'91student\'92\
\
If you are asked to identify a region, type y if it is the same region you used when creating the VM, otherwise type n.\
\
You will then be asked to match the correct zone and region. Take note of the region number followed by the zone number.\
\
Output:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 No zone specified. Using zone [europe-west1-c] for instance: [mynet-eu-vm].\
Warning: Permanently added 'compute.3103395765129373057' (ECDSA) to the list of known hosts.\
Linux mynet-eu-vm 4.9.0-13-amd64 #1 SMP Debian 4.9.228-1 (2020-07-05) x86_64\
\
The programs included with the Debian GNU/Linux system are free software;\
the exact distribution terms for each program are described in the\
individual files in /usr/share/doc/*/copyright.\
\
Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent\
permitted by applicable law.\
Creating directory '/home/student-02-04dc6aaa1069'.\
student-02-04dc6aaa1069@mynet-eu-vm:~$ ping -c\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```\AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\AppleTypeServices \cf2 \
\
3. To test connectivity to\'a0
\f1\b \cf2 mynet-eu-vm
\f0\b0 \cf2 's internal IP, run the following command, replacing\'a0
\f1\b \cf2 mynet-eu-vm
\f0\b0 \cf2 's internal IP:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 ping -c 3 <Enter mynet-eu-vm's internal IP here>\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \cf2 \
\
\pard\pardeftab720\partightenfactor0
\AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\AppleTypeServices \cf2 Output:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 PING 34.76.82.245 (34.76.82.245) 56(84) bytes of data.\
64 bytes from 34.76.82.245: icmp_seq=1 ttl=64 time=0.773 ms\
64 bytes from 34.76.82.245: icmp_seq=2 ttl=64 time=0.412 ms\
64 bytes from 34.76.82.245: icmp_seq=3 ttl=64 time=0.354 ms\
\
--- 34.76.82.245 ping statistics ---\
3 packets transmitted, 3 received, 0% packet loss, time 2053ms\
rtt min/avg/max/mdev = 0.354/0.513/0.773/0.185 ms\
student-02-04dc6aaa1069@mynet-eu-vm:~$\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```
\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\
\pard\pardeftab720\partightenfactor0
\AppleTypeServices \cf2 \
4. Repeat the same test by running the following:\uc0\u8232 \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
ping -c 3 mynet-eu-vm\

\f0 \cf2 ```
\f2 \cf2 \

\f0 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 \
5. To test connectivity to\'a0
\f1\b \cf2 mynet-eu-vm
\f0\b0 \cf2 's external IP, run the following command, replacing\'a0
\f1\b \cf2 mynet-eu-vm
\f0\b0 \cf2 's external IP:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ``console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 ping -c 3 <Enter mynet-eu-vm's external IP here>\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0 \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b\fs28 \cf2 Convert the network to a custom mode network\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0\b0\fs24 \cf2 Exit out of the shell. Run:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
exit\

\f0 \cf2 ```
\f2 \cf2 \

\f0 \cf2 \
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 The auto mode network worked great so far, but you have been asked to convert it to a custom mode network so that new subnets aren't automatically created as new regions become available. This could result in overlap with IP addresses used by manually created subnets or static routes, or could interfere with your overall network planning.\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
gcloud compute networks update 
\f3\b mynetwork
\f2\b0  \\\
    --switch-to-custom-subnet-mode\

\f0 \cf2 ```\
\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 When prompted, type y and continue.\
Specify the following, and leave the remaining settings as their defaults:\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clcbpat4 \clwWidth1491\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clcbpat4 \clwWidth3928\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf2 Property\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 Value (type value or select option as specified)\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1491\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3928\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b0 \cf2 Name\cell 
\pard\intbl\itap1\pardeftab720\sl300\partightenfactor0
\cf2 managementsubnet-us\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1491\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3928\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 Region\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 us-central1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clcbpat5 \clwWidth1491\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clcbpat5 \clwWidth3928\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 IP address range\cell 
\pard\intbl\itap1\pardeftab720\sl300\partightenfactor0
\cf2 10.130.0.0/20\cell \lastrow\row
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b\fs28 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0\b0\fs24 \cf2 ## Task 3: Create 2 more custom mode VPC networks and firewall rules\
\
\
\pard\pardeftab720\partightenfactor0

\f1\b\fs28 \cf2 ##Create the managementnet network\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0\b0\fs24 \cf2 Create the\'a0
\f1\b managementnet
\f0\b0 \'a0network using the terminal.\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \cf2 gcloud compute networks create managementnet --project=[PROJECT_ID] --subnet-mode=custom --bgp-routing-mode=regional\
\
gcloud compute networks subnets create managementsubnet-us --project=[PROJECT_ID] --range=10.130.0.0/20 --network=managementnet --region=us-central1
\f0 \
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 \
Output:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 NAME                 REGION       NETWORK        RANGE\
managementsubnet-us  us-central1  managementnet  10.130.0.0/20\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```
\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0 \AppleTypeServices \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b\fs28 \cf2 ##Create the privatenet network\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls5\ilvl0
\f0\b0\fs24 \cf2 \kerning1\expnd0\expndtw0 1. \expnd0\expndtw0\kerning0
To create the\'a0
\f1\b privatenet
\f0\b0 \'a0network, run the following command:\
\pard\tx720\pardeftab720\sl400\partightenfactor0

\f1\b \cf2 \
\pard\pardeftab720\sl400\partightenfactor0
\ls6\ilvl0
\f0\b0 \cf2 ```console
\f1\b \
\pard\pardeftab720\sl400\partightenfactor0

\f2\b0 \cf2 gcloud compute networks create privatenet --subnet-mode=custom\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\sl240\qc\partightenfactor0

\f1\b \cf2 \
\pard\pardeftab720\sl400\partightenfactor0

\f0\b0 \cf2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls7\ilvl0\cf2 \kerning1\expnd0\expndtw0 2. \expnd0\expndtw0\kerning0
To create the\'a0
\f1\b privatesubnet-us
\f0\b0 \'a0subnet, run the following command:\
\pard\pardeftab720\sl400\partightenfactor0
\ls7\ilvl0\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 gcloud compute networks subnets create privatesubnet-us --network=privatenet --region=us-central1 --range=172.16.0.0/24\
\pard\pardeftab720\sl240\qc\partightenfactor0

\f1\b \cf2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls8\ilvl0
\f0\b0 \cf2 \kerning1\expnd0\expndtw0 3. \expnd0\expndtw0\kerning0
To create the\'a0
\f1\b privatesubnet-eu
\f0\b0 \'a0subnet, run the following command:\uc0\u8232 \
\pard\pardeftab720\sl400\partightenfactor0
\ls8\ilvl0\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 gcloud compute networks subnets create privatesubnet-eu --network=privatenet --region=europe-west1 --range=172.20.0.0/20\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\tx720\pardeftab720\sl540\partightenfactor0

\f0 \cf2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls9\ilvl0\cf2 \kerning1\expnd0\expndtw0 4. \expnd0\expndtw0\kerning0
To list the available VPC networks, run the following command:\
\pard\pardeftab720\sl400\partightenfactor0
\ls9\ilvl0\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 gcloud compute networks list\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0 \cf2 \
5. The output should look like this (
\f1\b do not copy; this is example output
\f0\b0 ):\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 NAME           SUBNET_MODE  BGP_ROUTING_MODE  IPV4_RANGE  GATEWAY_IPV4\
managementnet  CUSTOM       REGIONAL\
mynetwork      CUSTOM       REGIONAL\
privatenet     CUSTOM       REGIONAL\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls10\ilvl0\cf2 \kerning1\expnd0\expndtw0 6. \expnd0\expndtw0\kerning0
To list the available VPC subnets (sorted by VPC network), run the following command:\
\pard\pardeftab720\sl400\partightenfactor0
\ls10\ilvl0\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 gcloud compute networks subnets list --sort-by=NETWORK\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\sl240\qc\partightenfactor0

\f1\b \cf2 \
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0\b0 \cf2 Output:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 NAME                REGION                   NETWORK        RANGE\
managementsubnet-us us-central1              managementnet  10.130.0.0/20\
mynetwork           asia-northeast1          mynetwork      10.146.0.0/20\
mynetwork           us-west1                 mynetwork      10.138.0.0/20\
mynetwork           southamerica-east1       mynetwork      10.158.0.0/20\
mynetwork           europe-west4             mynetwork      10.164.0.0/20\
mynetwork           asia-east1               mynetwork      10.140.0.0/20\
mynetwork           europe-north1            mynetwork      10.166.0.0/20\
mynetwork           asia-southeast1          mynetwork      10.148.0.0/20\
mynetwork           us-east4                 mynetwork      10.150.0.0/20\
mynetwork           europe-west1             mynetwork      10.132.0.0/20\
mynetwork           europe-west2             mynetwork      10.154.0.0/20\
mynetwork           europe-west3             mynetwork      10.156.0.0/20\
mynetwork           australia-southeast1     mynetwork      10.152.0.0/20\
mynetwork           asia-south1              mynetwork      10.160.0.0/20\
mynetwork           us-east1                 mynetwork      10.142.0.0/20\
mynetwork           us-central1              mynetwork      10.128.0.0/20\
mynetwork           northamerica-northeast1  mynetwork      10.162.0.0/20\
privatesubnet-eu    europe-west1             privatenet     172.20.0.0/20\
privatesubnet-us    us-central1              privatenet     172.16.0.0/24
\f0 \cf2 \
```\
\
\
\pard\pardeftab720\partightenfactor0
\cf2 7. Verify that the same networks and subnets are listed in the Cloud Console.\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\pardeftab720\partightenfactor0

\f2 \cf2 gcloud compute networks subnets list --sort-by=NETWORK\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f0 \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b\fs28 \cf2 ##Create the firewall rules for managementnet\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0\b0\fs24 \cf2 Create firewall rules to allow\'a0
\f1\b SSH
\f0\b0 ,\'a0
\f1\b ICMP
\f0\b0 , and\'a0
\f1\b RDP
\f0\b0 \'a0ingress traffic to VM instances on the\'a0
\f1\b managementnet
\f0\b0 \'a0network.\
\pard\pardeftab720\partightenfactor0
\AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls11\ilvl0\AppleTypeServices \cf2 \kerning1\expnd0\expndtw0 {\listtext	1.	}\expnd0\expndtw0\kerning0
Specify the following, and leave the remaining settings as their defaults:\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clcbpat4 \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clcbpat4 \clwWidth9740\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0
\f1\b \cf2 \kerning1\expnd0\expndtw0 {\listtext	2.	}\expnd0\expndtw0\kerning0
Property\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	3.	}\expnd0\expndtw0\kerning0
Value (type value or select option as specified)\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth9740\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0
\f0\b0 \cf2 \kerning1\expnd0\expndtw0 {\listtext	4.	}\expnd0\expndtw0\kerning0
Name\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl300\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	5.	}\expnd0\expndtw0\kerning0
managementnet-allow-icmp-ssh-rdp\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth9740\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	6.	}\expnd0\expndtw0\kerning0
Network\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	7.	}\expnd0\expndtw0\kerning0
managementnet\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth9740\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	8.	}\expnd0\expndtw0\kerning0
Targets\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	9.	}\expnd0\expndtw0\kerning0
All instances in the network\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth9740\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	10.	}\expnd0\expndtw0\kerning0
Source filter\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	11.	}\expnd0\expndtw0\kerning0
IP Ranges\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth9740\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	12.	}\expnd0\expndtw0\kerning0
Source IP ranges\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl300\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	13.	}\expnd0\expndtw0\kerning0
0.0.0.0/0\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \tamarb360 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth2560\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth9740\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	14.	}\expnd0\expndtw0\kerning0
Protocols and ports\cell 
\pard\intbl\itap1\tx220\tx720\pardeftab720\li720\fi-720\sl540\partightenfactor0
\ls11\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	15.	}\expnd0\expndtw0\kerning0
Specified protocols and ports\cell \lastrow\row
\pard\pardeftab720\sl540\partightenfactor0
\cf2 \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \cf2 gcloud compute --project=[PROJECT-ID] firewall-rules create managementnet-allow-icmp-ssh-rdp --direction=INGRESS --priority=1000 --network=managementnet --action=ALLOW --rules=tcp:22,tcp:3389,icmp --source-ranges=0.0.0.0/0\
\pard\pardeftab720\partightenfactor0

\f0 \cf2 \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```\
\pard\pardeftab720\sl560\sa640\partightenfactor0

\fs28 \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f1\b \cf2 ##Create the firewall rules for privatenet\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0\b0\fs24 \cf2 Create the firewall rules for\'a0
\f1\b privatenet
\f0\b0 \'a0network using the\'a0gcloud\'a0command line.\
1. To create the\'a0
\f1\b privatenet-allow-icmp-ssh-rdp
\f0\b0 \'a0firewall rule, run the following command:\uc0\u8232 \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 gcloud compute firewall-rules create privatenet-allow-icmp-ssh-rdp --direction=INGRESS --priority=1000 --network=privatenet --action=ALLOW --rules=icmp,tcp:22,tcp:3389 --source-ranges=0.0.0.0/0
\f0 \cf2 \
```\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 Output: \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 NAME                              NETWORK        DIRECTION  PRIORITY  ALLOW                 DENY  DISABLED\
managementnet-allow-icmp-ssh-rdp  managementnet  INGRESS    1000      tcp:22,tcp:3389,icmp        False
\f0 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\sl400\partightenfactor0
\AppleTypeServices \cf2 ```\
\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls12\ilvl0\cf2 \kerning1\expnd0\expndtw0 2. \expnd0\expndtw0\kerning0
To list all the firewall rules (sorted by VPC network), run the following command:\
\pard\pardeftab720\sl400\partightenfactor0
\ls12\ilvl0\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 gcloud compute firewall-rules list --sort-by=NETWORK\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 Output:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 NAME                              NETWORK        DIRECTION  PRIORITY  ALLOW                        \
managementnet-allow-icmp-ssh-rdp  managementnet  INGRESS    1000      icmp,tcp:22,tcp:3389\
mynetwork-allow-icmp              mynetwork      INGRESS    1000      icmp\
mynetwork-allow-internal          mynetwork      INGRESS    65534     all                         \
mynetwork-allow-rdp               mynetwork      INGRESS    1000      tcp:3389\
mynetwork-allow-ssh               mynetwork      INGRESS    1000      tcp:22\
privatenet-allow-icmp-ssh-rdp     privatenet     INGRESS    1000      icmp,tcp:22,tcp:3389
\f0 \cf2 \
```\
\pard\pardeftab720\partightenfactor0
\AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\AppleTypeServices \cf2 The firewall rules for\'a0
\f1\b \cf2 mynetwork
\f0\b0 \cf2 \'a0network have been created. You can define multiple protocols and ports in one firewall rule (
\f1\b \cf2 privatenet
\f0\b0 \cf2 \'a0and\'a0
\f1\b \cf2 managementnet
\f0\b0 \cf2 ) or spread them across multiple rules (
\f1\b \cf2 default
\f0\b0 \cf2 \'a0and\'a0
\f1\b \cf2 mynetwork
\f0\b0 \cf2 ).\
\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\fs28 \cf2 \

\f1\b ##Create 2 VM instances:\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls13\ilvl0
\fs24 \cf2 \kerning1\expnd0\expndtw0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
managementnet-us-vm
\f0\b0 \'a0in\'a0
\f1\b managementsubnet-us
\f0\b0 \
\ls13\ilvl0
\f1\b \kerning1\expnd0\expndtw0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
privatenet-us-vm
\f0\b0 \'a0in\'a0
\f1\b privatesubnet-us\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls13\ilvl0
\f0\b0 \cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\fs28 \cf2 ##Create the managementnet-us-vm instance
\fs24 \
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls14\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	1.	}\expnd0\expndtw0\kerning0
Specify the following, and leave the remaining settings as their defaults:\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clcbpat4 \clwWidth1491\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clcbpat4 \clwWidth3928\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf2 Property\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 Value (type value or select option as specified)\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1491\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3928\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b0 \cf2 Name\cell 
\pard\intbl\itap1\pardeftab720\sl300\partightenfactor0
\cf2 managementnet-us-vm\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1491\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3928\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 Region\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 us-central1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1491\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3928\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 Zone\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 us-central1-c\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1491\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3928\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 Machine type\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 f1-micro (1 vCPU, 614 MB memory)\cell \lastrow\row
\pard\tx720\pardeftab720\sl540\sa480\partightenfactor0
\cf2 Specify the following, and leave the remaining settings as their defaults:\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clcbpat4 \clwWidth1818\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clcbpat4 \clwWidth3601\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf2 Property\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 Value (type value or select option as specified)\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1818\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3601\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b0 \cf2 Network\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 managementnet\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trcbpat3 \tamarb360 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1818\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3601\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf4 \clbrdrl\brdrs\brdrw20\brdrcf4 \clbrdrb\brdrs\brdrw20\brdrcf4 \clbrdrr\brdrs\brdrw20\brdrcf4 \clpadt160 \clpadl160 \clpadb160 \clpadr160 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 Subnetwork\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf2 managementsubnet-us\cell \lastrow\row
\pard\tx720\pardeftab720\sl540\sa480\partightenfactor0
\cf2 \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \cf2 gcloud beta compute --project=[PROJECT-ID]  instances create managementnet-us-vm --zone=us-central1-c --machine-type=f1-micro --subnet=managementsubnet-us --network-tier=PREMIUM --maintenance-policy=MIGRATE --service-account=441967460138-compute@developer.gserviceaccount.com --scopes=https://www.googleapis.com/auth/devstorage.read_only,https://www.googleapis.com/auth/logging.write,https://www.googleapis.com/auth/monitoring.write,https://www.googleapis.com/auth/servicecontrol,https://www.googleapis.com/auth/service.management.readonly,https://www.googleapis.com/auth/trace.append --image=debian-9-stretch-v20200902 --image-project=debian-cloud --boot-disk-size=10GB --boot-disk-type=pd-standard --boot-disk-device-name=managementnet-us-vm --reservation-affinity=any
\f0 \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```\
\pard\pardeftab720\sl560\sa640\partightenfactor0
\cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0

\fs28 \cf2 ##Create the privatenet-us-vm instance
\fs24 \
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 \kerning1\expnd0\expndtw0 1. \expnd0\expndtw0\kerning0
To create the\'a0
\f1\b privatenet-us-vm
\f0\b0 \'a0instance, run the following command:\uc0\u8232 \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 gcloud compute instances create privatenet-us-vm --zone=us-central1-c --machine-type=f1-micro --subnet=privatesubnet-us\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 Output:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 Created [https://www.googleapis.com/compute/v1/projects/qwiklabs-gcp-00-c3c7336ff7b3/zones/us-central1-c/instances/privat\
enet-us-vm].\
NAME              ZONE           MACHINE_TYPE  PREEMPTIBLE  INTERNAL_IP  EXTERNAL_IP    STATUS\
privatenet-us-vm  us-central1-c  f1-micro                   172.16.0.2   34.122.161.88  RUNNING\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```\AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 \
\
\pard\pardeftab720\partightenfactor0
\AppleTypeServices \cf2 To list all the VM instances (sorted by zone), run the following command:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 gcloud compute instances list --sort-by=ZONE
\f0 \cf2 \
```\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 Output:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ``console\
\pard\pardeftab720\partightenfactor0

\f2 \cf2 NAME                 ZONE            MACHINE_TYPE  PREEMPTIBLE  INTERNAL_IP  EXTERNAL_IP    STATUS\
mynet-eu-vm          europe-west1-c  n1-standard-1              10.132.0.2   34.76.115.41   RUNNING\
managementnet-us-vm  us-central1-c   f1-micro                   10.130.0.2   35.239.68.123  RUNNING\
mynet-us-vm          us-central1-c   n1-standard-1              10.128.0.2   35.202.101.52  RUNNING\
privatenet-us-vm     us-central1-c   f1-micro                   172.16.0.2   34.66.197.202  RUNNING
\f0 \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```\
\pard\pardeftab720\sl400\partightenfactor0

\f1\b \cf2 \
\pard\pardeftab720\sl720\sa640\partightenfactor0

\fs28 \cf2 ##Task 4. Explore the connectivity across networks\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\f0\b0 \cf2 Explore the connectivity between the VM instances. Specifically, determine the effect of having VM instances in the same zone versus having instances in the same VPC network.\
\pard\pardeftab720\sl560\sa640\partightenfactor0
\cf2 ##Enter SSH:\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa360\partightenfactor0
\ls15\ilvl0
\fs24 \cf2 1. Enter the ssh terminal inside the shell\
Run the following code:\
\pard\pardeftab720\sl400\partightenfactor0
\ls15\ilvl0\cf2 ```console\AppleTypeServices\AppleTypeServicesF65539 \
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 gcloud compute ssh [USER]@qwiklabs.net@mynet-eu-vm\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```\
\pard\pardeftab720\sl400\partightenfactor0
\AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\pardeftab720\partightenfactor0
\AppleTypeServices \cf2 2. Type y and press to continue.\
\
Once you have verified the zone you used to create the VM instance, this is an example of the output:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 The programs included with the Debian GNU/Linux system are free software;\
the exact distribution terms for each program are described in the\
individual files in /usr/share/doc/*/copyright.\
\
Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent\
permitted by applicable law.\
Creating directory '/home/student-00-7cb7c3c22531'.\
student-00-7cb7c3c22531@managementnet-us-vm:~$
\f0 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\sl400\partightenfactor0
\AppleTypeServices \cf2 ```\
\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\fs28 \cf2 ##Ping the external IP addresses \
Ping the external IP addresses of the VM instances to determine whether you can reach the instances from the public internet\
\pard\pardeftab720\sl540\sa480\partightenfactor0

\fs24 \cf2 1. run the following command, replacing\'a0
\f1\b mynet-eu-vm
\f0\b0 's external IP:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0

\f2 \cf2 ping -c 3 <Enter mynet-eu-vm's external IP here>\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \cf2 \
Output example:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 PING 35.193.4.182 (35.193.4.182) 56(84) bytes of data.\
64 bytes from 35.193.4.182: icmp_seq=1 ttl=64 time=1.07 ms\
64 bytes from 35.193.4.182: icmp_seq=2 ttl=64 time=0.444 ms\
64 bytes from 35.193.4.182: icmp_seq=3 ttl=64 time=0.419 ms\
\
--- 35.193.4.182 ping statistics ---\
3 packets transmitted, 3 received, 0% packet loss, time 2011ms\
rtt min/avg/max/mdev = 0.419/0.646/1.077/0.305 ms
\f0 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\sl400\partightenfactor0
\AppleTypeServices \cf2 ```\AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 \
\
\pard\pardeftab720\partightenfactor0
\AppleTypeServices \cf2 2. To test connectivity to\'a0
\f1\b \cf2 managementnet-us-vm
\f0\b0 \cf2 's external IP, run the following command, replacing\'a0
\f1\b \cf2 managementnet-us-vm
\f0\b0 \cf2 's external IP:\
\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console\
\pard\pardeftab720\sl400\partightenfactor0

\f2 \cf2 ping -c 3 <Enter managementnet-us-vm's external IP here>\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 ```\
3. To test connectivity to\'a0
\f1\b privatenet-us-vm
\f0\b0 's external IP, run the following command, replacing\'a0
\f1\b privatenet-us-vm
\f0\b0 's external IP:\uc0\u8232 \
```console
\f2 \cf2 \
ping -c 3 <Enter privatenet-us-vm's external IP here>\

\f0 \cf2 ```\
\
\pard\pardeftab720\partightenfactor0
\cf2 You can ping the external IP address of all VM instances, even though they are in either a different zone or VPC network. This confirms that public access to those instances is only controlled by the\'a0
\f1\b \cf2 ICMP
\f0\b0 \cf2 \'a0firewall rules that you established earlier.\
\
\
\pard\pardeftab720\sl560\sa640\partightenfactor0
\ls16\ilvl0
\fs28 \cf2 ##Ping the internal IP addresses\
\pard\pardeftab720\sl560\sa640\partightenfactor0
\ls16\ilvl0
\fs24 \cf2 To exit out of the shell environment type:\
\pard\pardeftab720\sl400\partightenfactor0
\ls16\ilvl0\cf2 ```console
\f2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0
\ls16\ilvl0\cf2 exit
\f0 ```
\f2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0
\ls16\ilvl0
\f0 \cf2 To list the available VPC networks, run the following command and note the internal IP addresses of the VM instances:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
gcloud compute networks list\

\f0 \cf2 ```
\f2 \cf2 \

\f0 \cf2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa360\partightenfactor0
\cf2 Enter the ssh terminal again for the 
\f1\b mynet-us-vm
\f0\b0 : \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 gcloud compute ssh [USER]@qwiklabs.net@mynet-eu-vm\
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```\
\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa360\partightenfactor0
\cf2 1. To test connectivity to\'a0
\f1\b mynet-eu-vm
\f0\b0 's internal IP, run the following command, replacing\'a0
\f1\b mynet-eu-vm
\f0\b0 's internal IP:\uc0\u8232 \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
ping -c 3 <Enter mynet-eu-vm's internal IP here>\

\f0 \cf2 ```\
\
\pard\pardeftab720\partightenfactor0
\cf2 You can ping the internal IP address of\'a0
\f1\b \cf2 mynet-eu-vm
\f0\b0 \cf2 \'a0because it is on the same VPC network as the source of the ping (
\f1\b \cf2 mynet-us-vm
\f0\b0 \cf2 ), even though both VM instances are in separate zones, regions, and continents!\
\
\
\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls17\ilvl0\cf2 \kerning1\expnd0\expndtw0 2. \expnd0\expndtw0\kerning0
To test connectivity to\'a0
\f1\b managementnet-us-vm
\f0\b0 's internal IP, run the following command, replacing\'a0
\f1\b managementnet-us-vm
\f0\b0 's internal IP:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ```console
\f2 \cf2 \
ping -c 3 <Enter managementnet-us-vm's internal IP here>\

\f0 \cf2 ```\
\pard\pardeftab720\partightenfactor0
\cf2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0
\ls18\ilvl0\cf2 To exit out of the shell environment type:\
\pard\tx720\pardeftab720\sl400\partightenfactor0

\f2 \cf2 \
\pard\pardeftab720\sl400\partightenfactor0
\ls19\ilvl0
\f0 \cf2 ```console
\f2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0
\ls19\ilvl0\cf2 exit
\f0 ```
\f2 \
\pard\tx720\pardeftab720\sl400\partightenfactor0
\cf2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa360\partightenfactor0

\f0 \cf2 Enter the ssh terminal again for the 
\f1\b managementnet-us-vm
\f0\b0 's: \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ``console\
\pard\pardeftab720\partightenfactor0

\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 gcloud compute ssh [USER]@qwiklabs.net@\AppleTypeServices managementnet-us-vm\AppleTypeServices\AppleTypeServicesF65539 \
\pard\pardeftab720\sl400\partightenfactor0

\f0 \AppleTypeServices \cf2 ```\cf2 \kerning1\expnd0\expndtw0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls20\ilvl0\cf2 {\listtext	4.	}3. \expnd0\expndtw0\kerning0
To test connectivity to\'a0\'a0
\f1\b managementnet-us-vm
\f0\b0 's  internal IP, run the following command, replacing\'a0
\f1\b managementnet-us-vm
\f0\b0 's  internal IP:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ``console
\f2 \cf2 \
ping -c 3 <Enter managementnet-us-vm's internal IP here>\

\f0 \cf2 ```
\f2 \cf2 \

\f0 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 This should not work, as indicated by a 100% packet loss!\
\
\
\pard\pardeftab720\sl560\sa640\partightenfactor0
\ls21\ilvl0\cf2 To exit out of the shell environment type:\
\pard\pardeftab720\sl400\partightenfactor0
\ls21\ilvl0\cf2 ```console
\f2 \
\pard\pardeftab720\sl560\sa640\partightenfactor0
\ls21\ilvl0\cf2 exit
\f0 ```\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa360\partightenfactor0
\cf2 Enter the ssh terminal again for the 
\f1\b mynet-us-vm
\f0\b0 : \
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ``console
\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 gcloud compute ssh [USER]@qwiklabs.net@\AppleTypeServices managementnet-us-vm\
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f0 \cf2 ```
\f2 \AppleTypeServices\AppleTypeServicesF65539 \cf2 \
\pard\pardeftab720\partightenfactor0

\f0 \AppleTypeServices \cf2 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl540\sa480\partightenfactor0
\ls22\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	4.	}3. \expnd0\expndtw0\kerning0
To test connectivity to\'a0
\f1\b privatenet-us-vm
\f0\b0 'ss internal IP, run the following command, replacing\'a0
\f1\b privatenet-us-vm
\f0\b0 's internal IP:\
\pard\pardeftab720\sl400\partightenfactor0
\cf2 ``console
\f2 \cf2 \
ping -c 3 <Enter managementnet-us-vm's internal IP here>\
\pard\pardeftab720\sl560\sa640\partightenfactor0

\f0 \cf2 ```
\f2 \cf2 \
\pard\pardeftab720\sl400\partightenfactor0

\f0 \cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 This should not work, as indicated by a 100% packet loss!\
\pard\pardeftab720\sl540\sa480\partightenfactor0
\cf2 \
}